<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>เลือกวันและเวลา</title>
  <link rel="stylesheet" th:href="@{/css/booking.css}" />
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <!-- เพิ่มสไตล์เฉพาะให้วัน/เวลาอยู่แถวเดียวกัน -->
  <style>
    .dt-row{display:flex;gap:16px;align-items:end;flex-wrap:wrap;margin-top:10px}
    .dt-row .field{flex:1 1 300px;max-width:300px}
    .dt-row .field label{font-weight:bold;display:block;margin:0 0 8px}
    .dt-row .field input{padding:10px;width:100%;border-radius:8px;border:1px solid #ccc}
    @media (max-width:640px){
      .dt-row .field{flex:1 1 100%;max-width:100%}
    }
  </style>
</head>
<body>

<!-- Header -->
<header class="top-nav">
  <div class="nav-left">
    <a th:href="@{/home}" class="logo">Bar<span class="logo-accent">Ber</span>Shop</a>
  </div>
  <div class="nav-center">
    <a th:href="@{/home}" th:classappend="${activePage == 'home'} ? 'active' : ''">Home</a>
    <a th:href="@{/select_service}" th:classappend="${activePage == 'booking'} ? 'active' : ''">Booking</a>
  </div>
  <div class="header-actions">
    <a href="/profile" class="icon-btn"><i class="fa-solid fa-user"></i></a>
    <form th:action="@{/logout}" method="post" style="display:inline;">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
      <button type="submit" class="btn-logout">Logout</button>
    </form>
  </div>
</header>

<!-- Step Indicator -->
<div class="step-indicator">
  <div class="step">1</div>
  <div class="step active">2</div>
  <div class="step">3</div>
  <div class="step">4</div>
</div>

<!-- Main Container -->
<div class="container" style="max-width: 700px; margin: auto; padding-bottom: 100px;">

  <!-- Back Button -->
  <a href="/select_service" style="display: inline-block; margin-bottom: 20px; color: #0B63F6;">
    <i class="fa fa-arrow-left"></i> กลับ
  </a>

  <!-- Selected Service Card -->
  <div class="service-card">
    <img src="/images/barber.jpg" alt="บริการ">
    <div class="service-info">
      <h3 th:text="${selectedService}">บริการ</h3>
      <p>กรุณาเลือกวันและเวลาที่คุณต้องการจองบริการนี้</p>
    </div>
  </div>

  <!-- Form -->
  <form th:action="@{/booking/submit}" method="post" style="margin-top: 20px;">
    <input type="hidden" name="service" th:value="${selectedService}" />

    <h4 style="margin-top: 30px;">เลือกช่างที่ต้องการ:</h4>
    <div class="barber-select">
      <label class="barber-option">
        <input type="radio" name="barber" value="ช่างเอ" required>
        <img src="/images/photo4.jpg" alt="เอ">
        <span>ช่างเอ</span>
      </label>
      <label class="barber-option">
        <input type="radio" name="barber" value="ช่างบี">
        <img src="/images/photo5.jpg" alt="บี">
        <span>ช่างบี</span>
      </label>
      <label class="barber-option">
        <input type="radio" name="barber" value="ช่างซี">
        <img src="/images/Chang C.jpg" alt="ซี">
        <span>ช่างซี</span>
      </label>
      <label class="barber-option">
        <input type="radio" name="barber" value="ไม่เลือกช่าง">
        <img src="/images/photo6.jpg" alt="any">
        <span>ไม่เลือกช่าง</span>
      </label>
    </div>

    <!-- Label -->
    <label for="note"
       style="font-weight: bold; display: block; margin-bottom: 8px; width: 100%; max-width: 500px;">
        รายละเอียดเพิ่มเติม (ถ้ามี):
    </label>

    <!-- Textarea -->
    <textarea id="note" name="note" rows="3"
          placeholder="เช่น ขอช่างประจำ หรือ ตัดด้านข้างสั้นกว่าปกติ"
          style="width: 100%; max-width: 500px; border-radius: 8px; padding: 10px; border: 1px solid #ccc;"></textarea>

    <!-- วัน & เวลา (จัดให้อยู่บรรทัดเดียวกัน) -->
    <div class="dt-row">
      <div class="field">
        <label for="date">เลือกวันที่:</label>
        <input type="date" id="date" name="date" required>
      </div>

      <div class="field">
        <label for="time">เลือกเวลา:</label>
        <input type="time" id="time" name="time" required>
      </div>
    </div>

    <br>
    <button type="submit" class="book-btn" style="padding: 10px 24px;">ยืนยันการจอง</button>
  </form>
</div>

<!-- Bottom Navbar -->
<div class="bottom-nav">
  <a href="/profile"><i class="fa fa-user"></i>โปรไฟล์</a>
  <a href="/booking"><i class="fa fa-calendar"></i>จอง</a>
  <a href="/all-bookings"><i class="fa fa-list"></i>ประวัติการจองคิว</a>
</div>

</body>
</html>
